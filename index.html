<!DOCTYPE html>
<html lang="en">
<head>

  <!-- Custom Font: Resistance -->
  <style>
    @font-face {
      font-family: "Resistance";
      src: url("/Digitales-notfall-kit1/Fonts/resistance.woff2") format("woff2"),
           url("/Digitales-notfall-kit1/Fonts/resistance.woff") format("woff");
      font-weight: normal;
      font-style: normal;
      font-display: swap;
    }
  </style>

  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Digital First Aid Kit</title>

  <!-- Tailwind & Custom Theme -->
  <script src="https://cdn.tailwindcss.com"></script>
  <script>
    tailwind.config = {
      darkMode: 'class',
      theme: {
        extend: {
          colors: {
            punkPurple: '#7e1e9c',
            acidYellow: '#fffb00',
            bloodOrange: '#f2542d',
            hawBlue: '#005ca9',
            glitchBlue: '#00f7ff',
            rebelPink: '#f5009c',
            grime: '#1a1a1a',
            bone: '#fefcfb'
          },
          fontFamily: {
            headline: ['"Resistance"', 'cursive'],
            body: ['"Courier Prime"', 'monospace']
          }
        }
      }
    };
  </script>

  <!-- Lucide Icons -->
  <script src="https://unpkg.com/lucide@latest"></script>

  <!-- Google Fonts -->
  <link href="https://fonts.googleapis.com/css2?family=Courier+Prime&display=swap" rel="stylesheet" />

  <!-- Global Styling -->
  <style>
    body {
      background-image: url('https://www.transparenttextures.com/patterns/cardboard-flat.png');
      background-repeat: repeat;
    }
    .btn {
      @apply px-5 py-3 rounded-full text-sm font-bold inline-flex items-center gap-2 border border-black shadow-md hover:scale-105 active:scale-95 transition duration-200 ease-in-out;
    }
  </style>

</head>
<body class="font-body bg-bone text-grime dark:bg-grime dark:text-bone">

  <header class="flex justify-between items-center px-6 py-4 bg-punkPurple text-acidYellow sticky top-0 z-50 shadow-md">
    <h1 class="text-2xl md:text-3xl font-headline">üëÅÔ∏è Digital First Aid Kit</h1>
    <div class="flex gap-2">
      <button id="restart-btn" class="btn bg-acidYellow text-black hover:bg-yellow-300"><i data-lucide="flame"></i> Burn it</button>
      <button id="darkmode-toggle" class="btn bg-acidYellow text-black hover:bg-yellow-300"><i data-lucide="moon"></i></button>
    </div>
  </header>

  <main id="app-container" class="max-w-3xl mx-auto px-4 py-6">

    <div id="intro-page-1" class="bg-grime text-bone p-8 rounded-lg shadow-xl border-4 border-rebelPink">
      <h2 class="font-headline text-4xl mb-4 text-acidYellow">üëÅÔ∏è Meet Your Digital Shadow</h2>
      <p class="mb-6">
        You ever wake up and feel like your phone knows your dreams? That‚Äôs not magic. That‚Äôs capitalism with binoculars.
        This ain‚Äôt a zine, it‚Äôs group therapy for people who know that clearing your browser history won‚Äôt delete your sins... or your metadata.
      </p>
      <p class="italic text-sm text-glitchBlue">‚ÄúBig Brother got a podcast now ‚Äî and you‚Äôre the main topic.‚Äù</p>
      <div class="flex flex-col items-center gap-4 mt-8">
        <button id="start-zine-btn" class="btn px-8 py-4 bg-acidYellow text-black text-lg hover:bg-yellow-300">I‚Äôm ready</button>
      </div>
    </div>

    <div id="intro-page-2" class="hidden bg-grime text-bone p-8 rounded-lg shadow-xl border-4 border-rebelPink">
      <h2 class="font-headline text-3xl mb-3 text-glitchBlue">Tools for the Digitally Hunted</h2>
      <p class="mb-4">
        This is your field guide to digital self-defense ‚Äî for people too smart for tinfoil hats and too tired for 12-hour YouTube rabbit holes.
        If you think ‚ÄúI‚Äôve got nothing to hide‚Äù sounds like freedom, congrats: You‚Äôve already lost.
      </p>
      <p class="text-sm italic text-rebelPink">‚ÄúPrivacy is like deodorant. You don‚Äôt think about it... until someone stinks.‚Äù</p>
      <div class="flex flex-col items-center gap-4 mt-8">
        <button id="next-module-btn-intro" class="btn px-8 py-4 bg-acidYellow text-black text-lg hover:bg-yellow-300">No one zines better</button>
      </div>
    </div>

    <div id="module-container" class="hidden"></div>

    <div id="download-page" class="hidden bg-grime text-bone p-8 rounded-lg shadow-xl border-4 border-glitchBlue max-w-3xl mx-auto">
      <h2 class="font-headline text-3xl mb-4 text-acidYellow">Your zine is ready. Pure rebellion.</h2>
      <p class="mb-4">Print it. Copy it. Tape it to lamp posts. Your manifesto against digital fascism.</p>
      <div class="flex flex-row justify-center gap-4">
        <a id="zine-download-link" href="#" download class="btn bg-acidYellow text-black hover:bg-yellow-300 inline-flex items-center gap-2 text-xl"><i data-lucide="download"></i> <span>Download</span></a>
        <button id="print-zine-btn" class="btn bg-acidYellow text-black hover:bg-yellow-300 inline-flex items-center gap-2 text-xl"><i data-lucide="printer"></i> <span>Print</span></button>
      </div>
    </div>

    <div class="flex justify-end mt-1 mb-2">
      <button id="go-to-conclusion-btn" class="btn bg-hawBlue text-white hover:bg-blue-700 hidden inline-flex items-center gap-2"><i data-lucide="search"></i><span>Sources & Resistance</span></button>
    </div>

    <div id="conclusion-page" class="hidden bg-grime text-bone p-8 rounded-lg shadow-xl border-4 border-punkPurple">
      <h2 class="font-headline text-3xl text-acidYellow mb-4">You‚Äôre not alone. And never offline.</h2>
      <p class="mb-2">Here you‚Äôll find digital allies in the fight against surveillance.</p>
      <ul class="list-disc ml-6 text-sm mt-3">
        <li><a href="https://www.privacyguides.org/en/" target="_blank" class="underline text-glitchBlue">privacyguides.org</a></li>
        <li><a href="https://activisthandbook.org/" target="_blank" class="underline text-glitchBlue">activisthandbook.org</a></li>
      </ul>
    </div>

  </main>

  <script>
    const modules = {
      en: [
        { question: 'What gave you away digitally?', options: { A: 'Google Maps üó∫Ô∏è', B: 'Phone in pocket üì±', C: 'Sneaky sneaker selfie üì∏' } },
        { question: 'Why hasn‚Äôt your crush replied?', options: { A: 'Metadata says: obsessed üß†', B: 'Spyware blocked you ü§ñ', C: 'AI flagged the flirt üö®' } },
        { question: 'Why are you suddenly getting ads for anonymous SIM cards?', options: { A: 'Cookies, baby üç™', B: 'You‚Äôve been read üì°', C: 'Your data is a tattoo üíÄ' } }
      ]
    };

    let currentModule = 0;
    let currentLang = 'en';
    let userAnswers = {};
    const pages = {
      intro1: document.getElementById('intro-page-1'),
      intro2: document.getElementById('intro-page-2'),
      module: document.getElementById('module-container'),
      download: document.getElementById('download-page'),
      conclusion: document.getElementById('conclusion-page')
    };

    function showPage(...ids) {
      Object.entries(pages).forEach(([key, el]) => {
        el.classList.toggle('hidden', !ids.includes(key));
      });
    }

    function showModule(index) {
      const langModules = modules[currentLang];
      if (index >= langModules.length) return showDownload();
      currentModule = index;
      const mod = langModules[index];
      const wrapper = document.createElement('div');
      wrapper.className = 'bg-grime text-bone rounded-lg p-8 shadow-xl border-4 border-rebelPink max-w-3xl mx-auto whitespace-pre-line';
      wrapper.innerHTML = `
        <div class="text-center mb-8">
          <p class="text-xl font-bold">${index + 1}. ${mod.question}</p>
        </div>
        <div class="flex flex-col gap-6 items-center">
          ${Object.entries(mod.options).map(([key, text]) => `<button class="btn w-full max-w-md text-base bg-punkPurple text-white hover:bg-purple-700" data-option="${key}">${key}) ${text}</button>`).join('')}
        </div>
      `;
      pages.module.innerHTML = '';
      pages.module.appendChild(wrapper);
      showPage('module');
      document.querySelectorAll('[data-option]').forEach(btn => {
        btn.addEventListener('click', e => {
          const val = e.currentTarget.dataset.option;
          userAnswers[`module${index + 1}`] = val;
          showModule(index + 1);
        });
      });
    }

    function showDownload() {
      document.getElementById('go-to-conclusion-btn').classList.remove('hidden');
      const combo = Object.values(userAnswers).join('');
      const file = `Zines/Dein_Zine_${combo}.pdf`;
      const link = document.getElementById('zine-download-link');
      link.href = file;
      link.download = `Your_Zine_${combo}.pdf`;
      document.getElementById('print-zine-btn').onclick = () => {
        const win = window.open(file, '_blank');
        if (win) win.onload = () => win.print();
      };
      showPage('download');
    }

    document.getElementById('start-zine-btn').onclick = () => showPage('intro2');
    document.getElementById('next-module-btn-intro').onclick = () => showModule(0);
    document.getElementById('go-to-conclusion-btn').onclick = () => showPage('conclusion');
    document.getElementById('restart-btn').onclick = () => {
      if (confirm("Are you sure you want to restart?")) {
        userAnswers = {};
        currentModule = 0;
        showPage('intro1');
      }
    };
    document.getElementById('darkmode-toggle').onclick = () => {
      const html = document.documentElement;
      html.classList.toggle('dark');
      const isDark = html.classList.contains('dark');
      document.getElementById('darkmode-toggle').innerHTML = isDark
        ? '<i data-lucide="sun"></i>'
        : '<i data-lucide="moon"></i>';
      lucide.createIcons();
    };

    showPage('intro1');
    lucide.createIcons();
  </script>
</body>
</html>
